<Window
    x:Class="NewTechnology.Views.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:NewTechnology"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="Управление заявками и партнерами"
    Width="1000"
    Height="600"
    mc:Ignorable="d">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="10" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!--  Левая колонка - Заявки  -->
        <TextBlock
            Grid.Row="0"
            Grid.Column="0"
            Margin="0,0,0,10"
            HorizontalAlignment="Center"
            FontSize="18"
            FontWeight="Bold"
            Text="Список заявок партнеров" />

        <Border
            Grid.Row="1"
            Grid.Column="0"
            Margin="10"
            Padding="10"
            BorderBrush="Black"
            BorderThickness="1">
            <ListView ItemsSource="{Binding ListApplications}" SelectedItem="{Binding SelectedApplication}">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <Border
                            Width="400"
                            Height="90"
                            Margin="2"
                            Padding="5"
                            BorderBrush="Gray"
                            BorderThickness="1">
                            <StackPanel VerticalAlignment="Center" Orientation="Vertical">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <TextBlock
                                        Grid.Column="0"
                                        FontWeight="Bold"
                                        Text="{Binding Partners.TypePartners.Name}" />
                                    <TextBlock
                                        Grid.Column="1"
                                        HorizontalAlignment="Center"
                                        Text="|" />
                                    <TextBlock
                                        Grid.Column="2"
                                        HorizontalAlignment="Right"
                                        Text="{Binding Partners.Name}" />
                                </Grid>
                                <TextBlock FontSize="10" Text="{Binding Partners.Address}" />
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="Телефон: +7" />
                                    <TextBlock Grid.Column="1" Text="{Binding Partners.Number}" />
                                </Grid>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="Рейтинг: " />
                                    <TextBlock Grid.Column="1" Text="{Binding Partners.Rating}" />
                                    <TextBlock
                                        Grid.Column="2"
                                        FontWeight="Bold"
                                        Foreground="Green"
                                        Text="{Binding Cost, StringFormat={}{0:N2} руб.}" />
                                </Grid>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </Border>

        <!--  Правая колонка - Партнеры  -->
        <TextBlock
            Grid.Row="0"
            Grid.Column="2"
            Margin="0,0,0,10"
            HorizontalAlignment="Center"
            FontSize="18"
            FontWeight="Bold"
            Text="Список партнеров" />

        <Border
            Grid.Row="1"
            Grid.Column="2"
            Margin="10"
            Padding="10"
            BorderBrush="Black"
            BorderThickness="1">
            <ListView ItemsSource="{Binding ListPartners}" SelectedItem="{Binding SelectedPartner}">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <Border
                            Width="400"
                            Height="90"
                            Margin="2"
                            Padding="5"
                            BorderBrush="Gray"
                            BorderThickness="1">
                            <StackPanel VerticalAlignment="Center" Orientation="Vertical">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <TextBlock
                                        Grid.Column="0"
                                        FontWeight="Bold"
                                        Text="{Binding TypePartners.Name}" />
                                    <TextBlock
                                        Grid.Column="1"
                                        HorizontalAlignment="Right"
                                        FontWeight="Bold"
                                        Text="{Binding Name}" />
                                </Grid>
                                <TextBlock FontStyle="Italic" Text="{Binding FIODirector}" />
                                <TextBlock FontSize="10" Text="{Binding Address}" />
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="Тел: +7" />
                                    <TextBlock Grid.Column="1" Text="{Binding Number}" />
                                    <TextBlock Grid.Column="2" Text="Рейтинг: " />
                                    <TextBlock
                                        Grid.Column="3"
                                        FontWeight="Bold"
                                        Text="{Binding Rating}" />
                                </Grid>
                                <TextBlock
                                    FontSize="10"
                                    Foreground="Blue"
                                    Text="{Binding Email}" />
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </Border>

        <!--  Кнопки управления  -->
        <StackPanel
            Grid.Row="2"
            Grid.ColumnSpan="3"
            Margin="0,10,0,0"
            HorizontalAlignment="Center"
            Orientation="Horizontal">
            <!--  Кнопки для заявок  -->
            <Border
                Margin="5"
                Padding="5"
                BorderBrush="LightGray"
                BorderThickness="1">
                <StackPanel Orientation="Horizontal">
                    <TextBlock
                        Margin="0,0,10,0"
                        VerticalAlignment="Center"
                        FontWeight="Bold"
                        Text="Заявки:" />
                    <Button
                        Width="110"
                        Height="25"
                        Margin="2"
                        Command="{Binding AddNewApplicationCommand}"
                        Content="Создать заявку" />
                    <Button
                        Width="120"
                        Height="25"
                        Margin="2"
                        Command="{Binding EditApplicationCommand}"
                        Content="Редактировать заявку" />
                    <Button
                        Width="120"
                        Height="25"
                        Margin="2"
                        Command="{Binding ViewProductsCommand}"
                        Content="Просмотр продуктов" />
                </StackPanel>
            </Border>

            <!--  Кнопки для партнеров  -->
            <Border
                Margin="5"
                Padding="5"
                BorderBrush="LightGray"
                BorderThickness="1">
                <StackPanel Orientation="Horizontal">
                    <TextBlock
                        Margin="0,0,10,0"
                        VerticalAlignment="Center"
                        FontWeight="Bold"
                        Text="Партнеры:" />
                    <Button
                        Width="110"
                        Height="25"
                        Margin="2"
                        Command="{Binding AddNewPartnerCommand}"
                        Content="Добавить партнера" />
                    <Button
                        Width="120"
                        Height="25"
                        Margin="2"
                        Command="{Binding EditPartnerCommand}"
                        Content="Редактировать партнера" />
                </StackPanel>
            </Border>

            <!--  Дополнительные функции  -->
            <Border
                Margin="5"
                Padding="5"
                BorderBrush="LightGray"
                BorderThickness="1">
                <StackPanel Orientation="Horizontal">
                    <TextBlock
                        Margin="0,0,10,0"
                        VerticalAlignment="Center"
                        FontWeight="Bold"
                        Text="Дополнительно:" />
                    <Button
                        Width="80"
                        Height="25"
                        Margin="2"
                        Command="{Binding TestMaterialCalculatorCommand}"
                        Content="Тест расчета" />
                </StackPanel>
            </Border>
        </StackPanel>
    </Grid>
</Window>